2025-09-11 12:01:43,474 - INFO - PID文件已创建: /home/pi/Desktop/Test/co2_sensor/co2_collector.pid (PID: 194431)
2025-09-11 12:01:43,475 - INFO - 初始化MQTT连接...
2025-09-11 12:01:43,596 - INFO - MQTT连接成功
2025-09-11 12:01:44,082 - INFO - MQTT连接成功
2025-09-11 12:01:44,082 - INFO - MQTT测试消息已发布到: co2/chamber2_co2/status
2025-09-11 12:01:45,597 - INFO - 设备状态已发布: online
2025-09-11 12:01:45,597 - INFO - 初始CO2值已发布: 400 ppm
2025-09-11 12:01:45,597 - INFO - HA自动发现配置已发布到: homeassistant/sensor/chamber2_co2_sensor/config
2025-09-11 12:01:45,597 - INFO - 配置内容:
2025-09-11 12:01:45,597 - INFO - {
  "name": "CO2 Sensor",
  "object_id": "chamber2_co2_sensor",
  "unique_id": "chamber2_co2_sensor",
  "state_topic": "co2/chamber2_co2/value",
  "availability": {
    "topic": "co2/chamber2_co2/status",
    "payload_available": "online",
    "payload_not_available": "offline"
  },
  "unit_of_measurement": "ppm",
  "icon": "mdi:molecule-co2",
  "device_class": "carbon_dioxide",
  "state_class": "measurement",
  "device": {
    "identifiers": [
      "chamber2_co2"
    ],
    "name": "Chamber2 CO2",
    "manufacturer": "UNSW",
    "model": "CO2 Sensor",
    "sw_version": "1.0"
  }
}
2025-09-11 12:01:45,597 - INFO - Home Assistant自动发现配置完成
2025-09-11 14:15:35,063 - ERROR - ❌ 意外错误: [Errno 32] Broken pipe
2025-09-11 14:15:35,063 - INFO - 开始清理资源...
2025-09-11 14:15:35,066 - INFO - 串口连接已关闭
2025-09-11 14:15:35,066 - INFO - MQTT连接已关闭
2025-09-11 14:15:35,066 - INFO - CO2传感器数据采集器程序结束
