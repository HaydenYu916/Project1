# Pn预测模型使用说明

## 模型信息
- 模型类型: MLP Regressor
- 输入特征: PPFD, CO2, T, R:B
- 输出目标: Pn_avg
- 训练数据: averaged_data.csv

## 文件说明
- `best_model.pkl`: 训练好的最佳模型
- `normalization_params.pkl`: 数据归一化参数
- `feature_info.pkl`: 特征列信息
- `all_trained_models.pkl`: 所有训练好的模型

## 基本使用方法
```python
import joblib
import numpy as np

# 1. 加载模型和参数
model = joblib.load('best_model.pkl')
norm_params = joblib.load('normalization_params.pkl')
feature_info = joblib.load('feature_info.pkl')

# 2. 准备新数据 (4个特征)
new_data = np.array([[100, 400, 22, 0.75]])  # [PPFD, CO2, T, R:B]

# 3. 标准化数据
if norm_params:
    new_data_norm = (new_data - norm_params['feat_mean']) / norm_params['feat_std']
else:
    new_data_norm = new_data

# 4. 预测
prediction_norm = model.predict(new_data_norm)

# 5. 反标准化预测结果
if norm_params:
    prediction = prediction_norm * norm_params['target_std'] + norm_params['target_mean']
else:
    prediction = prediction_norm

print(f"预测的Pn_avg: {prediction[0]:.4f}")
```

## 特征说明
- **PPFD**: 光合光子通量密度 (μmol·m⁻²·s⁻¹)
- **CO2**: 二氧化碳浓度 (ppm)
- **T**: 温度 (°C)
- **R:B**: 红蓝光比例

## 注意事项
- 输入数据必须包含4个特征，顺序为: PPFD, CO2, T, R:B
- 特征值范围参考训练数据
- 模型已针对Pn预测优化
